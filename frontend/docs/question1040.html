
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questão 1040 - TCC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        pre {
            white-space: pre-wrap;   
            word-wrap: break-word;   
        }
        .copy-container {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #4B5563; 
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem; 
            font-size: 0.75rem; 
            font-weight: 500; 
            opacity: 0;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        .copy-container:hover .copy-btn {
            opacity: 1;
        }
        .copy-btn:active {
            background-color: #1F2937; 
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="mb-6 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-800">Detalhes da questão 1040</h1>
            <a href="index.html" class="text-blue-600 hover:text-blue-800 hover:underline">&larr; Voltar para a lista</a>
        </header>
        
        <main class="space-y-6">
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <div class="flex flex-wrap justify-between items-center mb-4 gap-2">
                    <h2 class="text-xl font-semibold text-gray-700">Tópicos do problema</h2>
                    <div class="flex flex-wrap justify-end gap-2"><span class="ml-2 bg-gray-200 text-gray-700 px-2 py-0.5 rounded-full text-xs font-medium">heap</span></div>
                </div>
                <div class="prose max-w-none p-4 border border-gray-200 rounded-lg bg-gray-50"><h2>Decifre o Eheapma</h2>
<p><strong>Tempo limite:</strong> 1 segundo(s)</p>
<div class="description" style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);"><p>A Segunda Guerra Algorítmica está espalhando destruição pela federação interplanetária e o eixo de planetas P=NP está dominando toda a galáxia. Algo precisa ser feito! Como um dos mais brilhantes programadores da aliança planetária P!=NP, você foi convidado para a equipe do mestre Allyan Turingobi, que tenta decifrar os segredos de uma das maiores armas dos P=NP: a máquina<span class="Apple-converted-space"> </span><em>Eheapma</em>! Ela é utilizada para enviar mensagens criptografadas contendo informações vitais das estratégias de combate inimigas. O mestre Allyan parece ter descoberto uma maneira de decifrar o código da Eheapma. Programá-la é sua missão.</p><p>Através de interceptação militar super avançada, descobriu-se o seguinte sobre o funcionamento da Eheapma:</p><ul><li>Todos os dias é passada uma nova reordenação do alfabeto A, que substitui a ordem lexicográfica usual definida em ASCII, ou seja, algarismos 0, 1, 2, …, 8, 9, seguidos por letras maiúsculas A, B, C, …, Y, Z, seguidas por  letras minúsculas a, b, c, …, y, z. Essa permutação é usada como base da encriptação.</li><li>A máquina transmite mensagens codificadas através de uma sequência de N instruções. Existem dois tipos de instrução:<ol><li>PUSH msg, onde msg é uma string com um trecho da mensagem codificada original;</li><li>POP M, onde  M é um inteiro.</li></ol></li></ul><p>A descodificação deve ser feita pelo receptor da seguinte maneira:</p><ul><li>A cada instrução PUSH msg recebida, os caracteres de msg devem ser armazenados seguindo uma relação de dominância definida por: A[i] ≺ A[j] ⇔ i &gt; j, onde ≺ é o símbolo que representa dominância, A é o alfabeto reordenado interceptado e i, j são inteiros representando os índices. </li><li>A cada instrução POP M recebida, os M caracteres com maior dominância dentre os armazenados devem ser removidos em sequência, um após o outro. Logo em seguida, esses M caracteres são passados pela famosa cifra ROT13 (utilizada na Roma Antiga como uma variação da Cifra de César) e depois impressos (https://upload.wikimedia.org/wikipedia/commons/2/2a/ROT13.png?raw=true).<br/><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/2/2a/ROT13.png?raw=true" style="height: 251px;width: 400px;"/></li><li>O procedimento se repete até o fim das N instruções, quando temos a mensagem decifrada como resultado de cada linha de instrução POP.</li></ul><p><em>Observações</em>:</p><ol><li>A primeira instrução deve ser um PUSH. A partir daí, podem ser PUSH/POP em qualquer ordem.</li><li>A cada instrução POP M, M nunca será maior do que a quantidade de caracteres correntemente armazenados.</li><li>A cifra ROT13 não altera caracteres numéricos e preserva o caso dos caracteres alfabéticos (letras maiúsculas resultam em letras maiúsculas, e letras minúsculas resultam em letras minúsculas).</li></ol></div></div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Formato da Entrada</h2>
                <div class="prose max-w-none p-4 border border-gray-200 rounded-lg bg-gray-50"><p style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);">A primeira linha da entrada contém o alfabeto interceptado<span class="Apple-converted-space"> </span><strong>A</strong>, que consiste de números [0-9], letras maiúsculas [A-Z] e letras minúsculas [a-z], totalizando 62 caracteres únicos em ordem aleatória.</p><p style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);">A próxima linha contém um único inteiro<span class="Apple-converted-space"> </span><strong>N</strong> (0&lt;<strong>N</strong>&lt;2*10⁹) indicando o número de operações a serem feitas (uma por linha).</p><p style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);">As próximas<span class="Apple-converted-space"> </span><strong>N</strong> linhas contêm<span class="Apple-converted-space"> </span><em>uma</em> instrução cada, sendo de dois tipos possíveis, definidos acima:</p><ol style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);"><li>PUSH msg</li><li>POP M</li></ol><p style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);">Sendo<span class="Apple-converted-space"> </span><strong>msg</strong> uma string sem espaços ou caracteres especiais e<span class="Apple-converted-space"> </span><strong>M</strong><span class="Apple-converted-space"> </span>um inteiro positivo (0&lt;<strong>M</strong>&lt;2*10⁹).</p></div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Formato da Saída</h2>
                <div class="prose max-w-none p-4 border border-gray-200 rounded-lg bg-gray-50"><div class="output" style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);"><p>Para cada instrução POP<span class="Apple-converted-space"> </span><strong>M</strong><span class="Apple-converted-space"> </span>da entrada, deve ser impressa uma linha com<span class="Apple-converted-space"> </span><strong>M</strong><span class="Apple-converted-space"> </span>caracteres contendo a parte da mensagem decifrada.</p></div><div class="both" style="color: rgb(69, 69, 69);text-align: justify;background-color: rgb(255, 255, 255);"></div></div>
            </div>

            <div class="bg-white p-6 rounded-xl shadow-lg">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Exemplos de Entrada e Saída</h2>
                
                <div class="mb-4 flex items-center gap-4">
                    <label for="example-select" class="text-sm font-medium text-gray-700 whitespace-nowrap">Selecione um exemplo:</label>
                    <select 
                        id="example-select" 
                        onchange="handleSelectChange(this.value)"
                        class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                        <option value="">Selecione um exemplo...</option>
        <option value="../app/questions/question1040/inputs/in0.txt;../app/questions/question1040/outputs/out0.txt">
            Exemplo 1
        </option>
        
        <option value="../app/questions/question1040/inputs/in1.txt;../app/questions/question1040/outputs/out1.txt">
            Exemplo 2
        </option>
        
        <option value="../app/questions/question1040/inputs/in2.txt;../app/questions/question1040/outputs/out2.txt">
            Exemplo 3
        </option>
        
                    </select>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Entrada (Input)</h3>
                        <div class="copy-container">
                            <pre id="input-content" class="h-48 p-3 border border-gray-300 rounded-md bg-gray-50 overflow-auto">Clique em um exemplo para carregar a entrada.</pre>
                            <button id="copy-input-btn" onclick="copyToClipboard('input-content')" class="copy-btn">Copiar</button>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-gray-700 mb-2">Saída (Output)</h3>
                        <div class="copy-container">
                            <pre id="output-content" class="h-48 p-3 border border-gray-300 rounded-md bg-gray-50 overflow-auto">Clique em um exemplo para carregar a saída.</pre>
                            <button id="copy-output-btn" onclick="copyToClipboard('output-content')" class="copy-btn">Copiar</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="text-center text-gray-500 mt-12">
            <p>Gerado automaticamente.</p>
        </footer>
    </div>
    
    <script>
        function handleSelectChange(selectedValue) {
            const inputDiv = document.getElementById('input-content');
            const outputDiv = document.getElementById('output-content');
            
            if (!selectedValue) {
                inputDiv.textContent = 'Clique em um exemplo para carregar a entrada.';
                outputDiv.textContent = 'Clique em um exemplo para carregar a saída.';
                return;
            }
            
            const [inputPath, outputPath] = selectedValue.split(';');
            loadExample(inputPath, outputPath);
        }

        async function loadExample(inputPath, outputPath) {
            const inputDiv = document.getElementById('input-content');
            const outputDiv = document.getElementById('output-content');
            
            inputDiv.textContent = 'Carregando...';
            outputDiv.textContent = 'Carregando...';

            try {
                const inputResponse = await fetch(inputPath);
                if (!inputResponse.ok) throw new Error('Arquivo de input não encontrado.');
                const inputText = await inputResponse.text();
                inputDiv.textContent = inputText;

                const outputResponse = await fetch(outputPath);
                if (!outputResponse.ok) throw new Error('Arquivo de output não encontrado.');
                const outputText = await outputResponse.text();
                outputDiv.textContent = outputText;

            } catch (error) {
                console.error('Erro ao carregar o exemplo:', error);
                inputDiv.textContent = 'Erro ao carregar arquivo.';
                outputDiv.textContent = 'Erro ao carregar arquivo.';
            }
        }

        function copyToClipboard(elementId) {
            const content = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(content).then(() => {
                alert('Conteúdo copiado!');
            }).catch(err => {
                console.error('Falha ao copiar:', err);
            });
        }
    </script>
</body>
</html>
