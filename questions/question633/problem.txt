Título: Gerente de espaço
Topicos do problema: array; lógica matemática; maratona; dicionário; 
Descrição: <p>É bem verdade que a maioria das pessoas não se importa muito com o que ocorre dentro de um computador, desde que ele execute as tarefas que devem ser desempenhadas. Existem, no entanto, alguns poucos nerds que sentem prazer em acompanhar o movimento de bits e bytes dentro da memória do computador.</p><p>E para esse público, constituído principalmente de adolescentes, que a multinacional de software ACM (Abstractions of Concrete Machines) deseja desenvolver um sistema que acompanhe e produza um relatório das operações efetuadas em um disco rígido. Um disco rígido é composto de uma seqüência de células atômicas de armazenamento, cada uma de tamanho 1Kb.</p><p>Especificamente, a ACM deseja acompanhar três tipos de operações:</p><p>• insere <code>NOME T</code><br/> insere no disco o arquivo NOME, de tamanho T. Você pode supor que um arquivo com esse nome não existe ainda no disco. O tamanho T de um arquivo é dado na forma XKb, XMb, ou XGb, onde X é um inteiro (<code>0 &lt; X &lt;= 1023</code>). NOME é uma cadeia de caracteres com comprimento máximo 10.</p><p>• remove <code>NOME</code><br/> remove o arquivo NOME do disco. Se um arquivo com esse nome não existe, não faz nada;</p><p>• otimiza<br/> compacta o disco, deslocando os arquivos existentes na direção do início do disco, eliminando espaços livres entre dois arquivos subseqüentes, e preservando a ordem em que os arquivos aparecem no disco, de modo a deixar um espaço de memória livre no final do disco.</p><p>A capacidade de um disco é sempre um número múltiplo de 8Kb. No início, o disco está vazio, ou seja, contém um bloco livre do tamanho da capacidade do disco. Um arquivo é sempre armazenado em um bloco de células de armazenamento contíguas. O arquivo a ser inserido deve ser sempre colocado no início do menor bloco livre cujo tamanho é maior ou igual ao tamanho do arquivo. Se mais de um bloco livre é igualmente adequado, escolha o mais próximo do começo do disco. Caso não seja possível inserir o arquivo por falta de um bloco livre suficientemente grande, deve-se executar automaticamente o comando otimiza. Se após a otimização ainda não for possível inserir o arquivo, uma mensagem de erro deve ser produzida. No caso de todas as operações serem executadas sem erro, seu programa deve produzir uma estimativa aproximada do estado final do disco, conforme descrito abaixo.</p><p>Lembre que 1Mb corresponde a 1024Kb, enquanto 1Gb corresponde a 1024Mb.</p>
Formato da entrada: <p>A entrada é constituída de vários casos de teste. A primeira linha de um caso de teste contém um único inteiro <em>N</em> indicando o número de operações no disco (<code>0 &lt; N &lt;= 10000</code>). A segunda linha de um caso de teste contém a descrição do tamanho do disco, composta por um inteiro <em>D</em> (<code>0 &lt; D &lt;= 1023</code>), seguido de um especificador de unidade; o especificador de unidade é uma cadeia de dois caracteres no formato Kb, Mb ou Gb. Cada uma das N linhas seguintes contém a descrição de uma operação no disco (insere, remove ou otimiza, conforme descrito acima). O final da entrada é indicado por N = 0.<br/></p>
Formato da saída: <p>Para cada caso de teste seu programa deve produzir uma linha na saída. Se todas as operações de inserção forem executadas sem erro, seu programa deve produzir uma linha contendo uma estimativa aproximada do estado do disco, apresentada como se segue. Divida o número de bytes do disco em oito blocos contíguos de mesmo tamanho. Para cada um dos oito blocos seu programa deve verificar a porcentagem P de bytes livres daquele bloco, e apresentar a estimativa do estado final no formato</p><p><code>[C][C][C][C][C][C][C][C]</code></p><p>onde C é ‘ ’, ‘-’ ou ‘#’, dependendo se <code>75 &lt; P &lt;= 100</code>, <code>25 &lt; P &lt;= 75</code> ou <code>0 &lt;= P &lt;= 25</code>, respectivamente. Caso um arquivo não possa ser inserido por falta de espaço, seu programa deve produzir uma linha contendo a expressão ERRO: disco cheio; nesse caso, operações subseqüentes do caso de teste devem ser ignoradas.</p>
