Título: Contração de arestas
Topicos do problema: grafo; 
Descrição: <p style="color: rgb(36, 41, 46);">Grafos são estruturas multifuncionais e que permitem diversas operações entre seus vértices e arestas. Uma dessas operações é a contração de arestas, na qual uma dada aresta é contraída, unindo os dois vértices que eram ligados por ela em um só, que recebe todas as arestas ligadas aos vértices que existiam anteriormente. Mais formalmente, se uma aresta<span class="Apple-converted-space"> </span><em>e=(A,B)</em><span class="Apple-converted-space"> </span>que liga os vértices<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>é contraída, então os vértices<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>são unidos e passam a ser identificados por um novo vértice<span class="Apple-converted-space"> </span><em>C</em><span class="Apple-converted-space"> </span>no novo grafo, a aresta<span class="Apple-converted-space"> </span><em>e</em><span class="Apple-converted-space"> </span>é removida do novo grafo e todas as arestas que ligavam um vértice<span class="Apple-converted-space"> </span><em>W</em><span class="Apple-converted-space"> </span>a<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>ou<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>no grafo original são substituídas por arestas que ligam<span class="Apple-converted-space"> </span><em>W</em><span class="Apple-converted-space"> </span>a<span class="Apple-converted-space"> </span><em>C</em><span class="Apple-converted-space"> </span>no novo grafo.</p><h3 id="exemplo-de-contra-o-" style="color: rgb(36, 41, 46);"><a class="anchor" href="#exemplo-de-contra-o-" style="background-color: transparent;color: rgb(3, 102, 214);float: left;"><span class="octicon octicon-link" style="color: rgb(27, 31, 35);"></span></a>Exemplo de contração:</h3><p style="color: rgb(36, 41, 46);"><img src="http://people.math.sc.edu/cooper/contraction.gif"/><br/></p><p style="background-color: rgb(255, 255, 255);color: rgb(36, 41, 46);">(<a href="http://people.math.sc.edu/cooper/contraction.gif" style="background-color: transparent;color: rgb(3, 102, 214);">http://people.math.sc.edu/cooper/contraction.gif</a>) </p><p style="color: rgb(36, 41, 46);">Neste exemplo, os vértices ligados pela aresta contraída do grafo à esquerda correspondem ao vértice destacado em vermelho no grafo à direita.</p><p style="color: rgb(36, 41, 46);">Outra operação comum a realizar em grafos é encontrar a menor distância entre dois vértices, que se dá contando o menor número de arestas necessárias para se chegar de um vértice ao outro no grafo dado.</p><h1 id="formato-de-entrada" style="color: rgb(36, 41, 46);"><a class="anchor" href="#formato-de-entrada" style="background-color: transparent;color: rgb(3, 102, 214);float: left;"><span class="octicon octicon-link" style="color: rgb(27, 31, 35);"></span></a></h1>
Formato da entrada: <p style="color: rgb(36, 41, 46);">A primeira linha da entrada contém dois inteiros</p><p style="color: rgb(36, 41, 46);"><em>N M</em></p><p style="color: rgb(36, 41, 46);">indicando a quantidade de vértices e arestas que existirão no grafo<span class="Apple-converted-space"> </span><em>G</em>, respectivamente.</p><p style="color: rgb(36, 41, 46);">As<span class="Apple-converted-space"> </span><em>M</em><span class="Apple-converted-space"> </span>linhas seguintes indicam quais são as arestas existentes no grafo no formato</p><p style="color: rgb(36, 41, 46);"><em>A B</em></p><p style="color: rgb(36, 41, 46);">indicando que existe uma aresta entre os vértices<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>(0 &lt;=<span class="Apple-converted-space"> </span><em>A</em>,<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>&lt;<span class="Apple-converted-space"> </span><em>N</em>). A linha seguinte contem um inteiro</p><p style="color: rgb(36, 41, 46);"><em>O</em></p><p style="color: rgb(36, 41, 46);">indicando o número de operações a serem realizadas sobre o grafo inicial<span class="Apple-converted-space"> </span><em>G</em><span class="Apple-converted-space"> </span>descrito anteriormente. Cada uma das<span class="Apple-converted-space"> </span><em>O</em><span class="Apple-converted-space"> </span>linhas que seguem contém exatamente uma operação de um dos dois tipos definidos acima, uma contração de aresta ou uma consulta de distância entre dois vértices. Uma contração de aresta tem o formato</p><p style="color: rgb(36, 41, 46);"><em>c A B</em></p><p style="color: rgb(36, 41, 46);">em que<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>são inteiros indicando que a aresta a ser contraída é a aresta correspondente no grafo atual à aresta que ligava os vértices<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>no grafo<span class="Apple-converted-space"> </span><em>G</em><span class="Apple-converted-space"> </span>inicial.</p><p style="color: rgb(36, 41, 46);">Uma consulta de distância tem o formato</p><p style="color: rgb(36, 41, 46);"><em>d A B</em></p><p style="color: rgb(36, 41, 46);">em que<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>são inteiros indicando dois vértices do grafo<span class="Apple-converted-space"> </span><em>G</em><span class="Apple-converted-space"> </span>inicial.</p><h4 id="observa-o-" style="color: rgb(36, 41, 46);"><a class="anchor" href="#observa-o-" style="background-color: transparent;color: rgb(3, 102, 214);float: left;"><span class="octicon octicon-link" style="color: rgb(27, 31, 35);"></span></a>Observação:</h4><p style="color: rgb(36, 41, 46);">Para a operação de contração indicada por<span class="Apple-converted-space"> </span><em>c A B</em>, é garantido que a aresta a ser contraída existe no grafo G e que essa aresta não foi contraída antes. Para a operação de distância indicada por<span class="Apple-converted-space"> </span><em>d A B</em>, a distância que se deseja medir é a distância no grafo<span class="Apple-converted-space"> </span><strong>atual</strong><span class="Apple-converted-space"> </span>(ou seja, que leva em consideração todas as contrações anteriores a esta operação) entre os vértices do grafo atual que correspondem aos vértices<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>do grafo inicial<span class="Apple-converted-space"> </span><em>G</em>. Nos dois tipos de operações, os vértices indicados por<span class="Apple-converted-space"> </span><em>A</em><span class="Apple-converted-space"> </span>e<span class="Apple-converted-space"> </span><em>B</em><span class="Apple-converted-space"> </span>podem ser iguais, e o grafo inicial pode conter laços/loops. A contração de um laço/loop (aresta que liga um vértice a ele próprio) equivale a simplesmente deletar essa aresta.</p><h4 id="limites-" style="color: rgb(36, 41, 46);"><a class="anchor" href="#limites-" style="background-color: transparent;color: rgb(3, 102, 214);float: left;"><span class="octicon octicon-link" style="color: rgb(27, 31, 35);"></span></a>Limites:</h4><p style="color: rgb(36, 41, 46);">0 &lt;<span class="Apple-converted-space"> </span><em>M</em><span class="Apple-converted-space"> </span>&lt;= 10⁴; 0 &lt;<span class="Apple-converted-space"> </span><em>N</em><span class="Apple-converted-space"> </span>&lt;= 10⁴; 0 &lt;<span class="Apple-converted-space"> </span><em>O</em><span class="Apple-converted-space"> </span>&lt;= 10⁵</p><h1 id="formato-de-sa-da" style="color: rgb(36, 41, 46);"><a class="anchor" href="#formato-de-sa-da" style="background-color: transparent;color: rgb(3, 102, 214);float: left;"><span class="octicon octicon-link" style="color: rgb(27, 31, 35);"></span></a></h1>
Formato da saída: <p>Para cada operação do tipo <em style="color: rgb(36, 41, 46);background-color: rgb(255, 255, 255);">d</em> (distância), deve ser impressa uma linha contendo a menor distância entre os vértices especificados. Caso não haja caminho entre os vértices, imprima uma linha com -1. Para cada operação do tipo <em style="color: rgb(36, 41, 46);background-color: rgb(255, 255, 255);">c</em> (contração), deve ser impressa uma linha contendo o número de vértices no grafo.</p>
